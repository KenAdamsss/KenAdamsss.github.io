<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>随笔</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-05-04T07:42:23.940Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Ken Adams</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hadoop</title>
    <link href="http://yoursite.com/2019/05/04/Hadoop/"/>
    <id>http://yoursite.com/2019/05/04/Hadoop/</id>
    <published>2019-05-04T07:19:45.000Z</published>
    <updated>2019-05-04T07:42:23.940Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="一、从Hadoop框架讨论大数据生态"><a href="#一、从Hadoop框架讨论大数据生态" class="headerlink" title="一、从Hadoop框架讨论大数据生态"></a>一、从Hadoop框架讨论大数据生态</h3><h4 id="1-1-Hadoop是什么"><a href="#1-1-Hadoop是什么" class="headerlink" title="1.1 Hadoop是什么"></a>1.1 Hadoop是什么</h4><ol><li>Hadoop 是一个 Apache 基金会所开发的分布式系统基础架构</li><li>主要解决，海量数据的存储（HDFS） 和 海量数据的分析计算 （MapReduce）问题</li><li>广义上说，Hadoop 通常是指一个更广泛的概念 - Hadoop 生态圈</li></ol><h4 id="1-2-Hadoop-发展历史"><a href="#1-2-Hadoop-发展历史" class="headerlink" title="1.2 Hadoop 发展历史"></a>1.2 Hadoop 发展历史</h4><h4 id="1-3-Hadoop-三大发行版本"><a href="#1-3-Hadoop-三大发行版本" class="headerlink" title="1.3 Hadoop 三大发行版本"></a>1.3 Hadoop 三大发行版本</h4><p>Apache、Cloudera、Hortonworks</p><h4 id="1-4-Hadoop-的优势"><a href="#1-4-Hadoop-的优势" class="headerlink" title="1.4 Hadoop 的优势"></a>1.4 Hadoop 的优势</h4><ol><li><strong>高可靠性</strong><br>因为Hadoop假设计算元素和存储会出现故障，因为它维护多个工作数据副本，在出现故障时可以对失败的节点重新分布处理</li><li><strong>高扩展性</strong><br>在集群分配任务数据，可方便的扩展数以千计的节点</li><li><strong>高效性</strong><br>在 MapReduce 的思想下，Hadoop 是并行工作的，以加快任务处理速度</li><li><strong>高容错性</strong><br>自动保存多份副本数据，并且能够自动将失败的任务重新分配</li></ol><h4 id="1-5-Hadoop-组成"><a href="#1-5-Hadoop-组成" class="headerlink" title="1.5 Hadoop 组成"></a>1.5 Hadoop 组成</h4><p><strong>概述</strong></p><ol><li><strong>Hadoop HDFS</strong> : 一个高可靠、高吞吐量的<strong>分布式文件系统</strong></li><li><strong>Hadoop MapReduce</strong> : 一个分布式的<strong>离线并行计算</strong>框架</li><li><strong>Hadoop YARN</strong> : 作业调度与集群资源管理的框架</li><li><strong>Hadoop Common</strong> : 支持其他模块的工具模块</li></ol><h5 id="1-5-1-HDFS-架构概述"><a href="#1-5-1-HDFS-架构概述" class="headerlink" title="1.5.1  HDFS 架构概述"></a>1.5.1  HDFS 架构概述</h5><ol><li><code>NameNode (nn)</code> : 存储文件的元数据，如文件名，文件目录结构，文件属性（生成时间、副本数、文件权限），以及每个文件的块列表和块所在的 DataNode 等</li><li><code>DataNode （dn）</code> : 在本地文件系统存储文件块数据，以及块数据的校验和</li><li><code>SecondaryNameNode (2nn)</code> : 用来监控 HDFS 状态的辅助后台程序，每隔一段时间获取 HDFS 元数据的快照。</li></ol><h5 id="1-5-2-YARN-架构概述"><a href="#1-5-2-YARN-架构概述" class="headerlink" title="1.5.2 YARN 架构概述"></a>1.5.2 YARN 架构概述</h5><h5 id="1-5-3-MapReduce-架构概述"><a href="#1-5-3-MapReduce-架构概述" class="headerlink" title="1.5.3 MapReduce 架构概述"></a>1.5.3 MapReduce 架构概述</h5><h3 id="二、Hadoop运行环境搭建"><a href="#二、Hadoop运行环境搭建" class="headerlink" title="二、Hadoop运行环境搭建"></a>二、Hadoop运行环境搭建</h3><h3 id="三、Hadoop运行模式"><a href="#三、Hadoop运行模式" class="headerlink" title="三、Hadoop运行模式"></a>三、Hadoop运行模式</h3><h3 id="四、Hadoop编译源码"><a href="#四、Hadoop编译源码" class="headerlink" title="四、Hadoop编译源码"></a>四、Hadoop编译源码</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hadoop" scheme="http://yoursite.com/tags/Hadoop/"/>
    
  </entry>
  
  <entry>
    <title>廖雪峰 python</title>
    <link href="http://yoursite.com/2019/05/04/%E5%BB%96%E9%9B%AA%E5%B3%B0python/"/>
    <id>http://yoursite.com/2019/05/04/廖雪峰python/</id>
    <published>2019-05-04T07:19:45.000Z</published>
    <updated>2019-05-04T07:46:04.788Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h5 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h5><blockquote><p>​    pyhton 为了简化，允许使用  r ‘’表示 ‘’ 内部的字符默认不转义</p></blockquote><p>如果 字符串内有很多换行，用 \n 写在一行里不好阅读，为了简化，Python 允许用 ‘’’…’’’ 表示多行内容</p><h4 id="Python的字符串"><a href="#Python的字符串" class="headerlink" title="Python的字符串"></a>Python的字符串</h4><blockquote><p>在最新的python 3 中,字符串十一Unicode编码的</p></blockquote><ul><li><p>单个字符的函数</p><blockquote><p>ord()     # 获取字符的整数表示</p><p>chr()    # 将编码转换为对应的字符</p></blockquote></li><li><p>如果知道了字符的整数编码，可以用十六进制这么写</p><blockquote><p>‘\u4e2d\u6587’</p><p>‘中文’</p><p>这两种写法是等价的;</p></blockquote></li><li><p>以Unicode 表示的 str 通过 encode() 方法可以编码为 指定的 bytes</p></li><li><p>要把 bytes 转化为 str ，就需要用 decode()方法;</p></li><li><p>如果 byes 中只有一小部分无效的字节，可以传入 errors=’ignore’忽略错误的字节</p></li><li><p>计算 str 包含 多少个字符，可以用 len()函数</p></li><li><p>len() 是计算 str 的字符数，如果换成 bytes,len()函数就计算字节数</p></li><li><p>% 就是用来格式化字符串的</p><p>| #### 占位符 | 替换内容     |<br>| ———– | ———— |<br>| %d          | 整数         |<br>| %f          | 浮点数       |<br>| %s          | 字符串       |<br>| %X          | 十六进制整数 |</p></li><li><p>其中，格式化整数和浮点数还可以指定是否补0和整数与小数的位数<br>`</p><pre><code> print(&apos;%2d-%02d&apos; % (3,1)) 3-01print(&apos;%.2f&apos; % 3.1415926)3.14</code></pre><p>`</p></li><li><p>另一种格式化字符串的方法是使用字符串的 format() 方法，他会用传入的参数依次替换字符串内的占位符{0}、{1}……</p></li></ul><h3 id="list"><a href="#list" class="headerlink" title="list"></a>list</h3><ol><li><p>python 内置的一种数据类型是列表：list</p></li><li><p>list 是一种有序的集合，可以随时添加和删除其中的元素</p></li><li><p>len() 可以获取 list 元素的个数</p></li><li><p>用索引来访问 list 么一个位置的元素，记得索引是从0 开始的</p></li><li><p>list 是一个可变的有序表，可以往list中追加元素到末尾<br><code>classmates.append(&#39;Adam&#39;)</code></p></li><li><p>把元素插入到指定的位置，比如索引号为1的位置：<br><code>calssmates.insert(1,&#39;Jack&#39;)</code></p></li><li><p>要删除list末尾的元素，用 <code>pop()</code> 方法<br><code>classmates.pop()</code></p></li><li><p>要删除指定位置的元素，用 <code>pop(i)</code> 方法，其中 i 是索引位置<br><code>classmates.pop(1)</code></p></li><li><p>要把某个元素替换成别的元素，可以直接赋值给对应的索引位置：<br><code>classmates[1] = &#39;Sarah&#39;</code></p></li><li><p>list 元素里面的元素数据类型也可以不相同<br><code>L = [&#39;apple&#39;,10,True]</code></p></li><li><p>list 元素也可以是另一个list<br><code>s - [&#39;python&#39;,&#39;java&#39;,[&#39;asp&#39;,&#39;php&#39;],&#39;schema&#39;]</code><br><code>len(s)</code><br><code>4</code><br><code>s[2][1]</code></p></li></ol><h3 id="tuple"><a href="#tuple" class="headerlink" title="tuple"></a>tuple</h3><ol><li>另一种有序列表叫元祖：tuple</li><li>tuple 与 list 非常相似，但是 tuple 一旦初始化就不能修改</li><li>tuple 的陷阱：当你定义一个 tuple 时，在定义的时候， tuple 的元素就必须被确定下来<br><code>t= (1,2)</code><br><code>t</code><br><code>(1,2)</code></li><li>如果要定义一个空的tuple,可以写成 ()<br><code>t = 0</code><br><code>t</code><br><code>0</code></li><li><p>但是，要定义一个只有 1 个元素的 tuple ，如果这么定义:<br><code>t = (1)</code><br><code>t</code><br><code>1</code><br>定义的不是tuple，是 1 这个数！这是因为 () 即可以表示 tuple ，又可以表示数学公式中的小括号，这就产生了歧义，因此，Python规定这种情况下，按照小括号计算，计算结果自然是1；<br>所以，只有 1 个元素 的 tuple 定义的时候必须加一个逗号，，来消除歧义<br>t = (1,)<br>t<br>(1,)</p></li><li><p>“可变的”tuple</p><p><code>t = (&#39;a&#39;,&#39;b&#39;,[&#39;A&#39;,&#39;B&#39;])</code></p><p><code>t[2][0] = &#39;X&#39;</code></p><p><code>t[2][1] = &#39;Y&#39;</code></p><p><code>t</code></p><p><code>(&#39;a&#39;,&#39;b&#39;,[&#39;X&#39;,&#39;Y&#39;])</code></p><ul><li>注意：tuple 的元素确实变了，但其实变得不是tuple的元素，而是list的元素</li><li>tuple 所谓的 “不变” 是说，tuple 的每个元素，只想永远不变。</li></ul></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Python" scheme="http://yoursite.com/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Linux进阶（二）</title>
    <link href="http://yoursite.com/2019/01/17/Linux%E8%BF%9B%E9%98%B6%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <id>http://yoursite.com/2019/01/17/Linux进阶（二）/</id>
    <published>2019-01-17T13:59:07.000Z</published>
    <updated>2019-05-04T06:38:10.876Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>        <div id="aplayer-YSKGrsLA" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">            <pre class="aplayer-lrc-content"></pre>        </div>        <script>          var ap = new APlayer({            element: document.getElementById("aplayer-YSKGrsLA"),            narrow: false,            autoplay: true,            showlrc: false,            music: {              title: "Staring At You",              author: "Diane Birch",              url: "https://m10.music.126.net/20190123220550/1a1b7f985c56a480d71462dc75abaa81/ymusic/bb41/2a86/d5cf/41ec0c033de62d81158b5319966bb57d.mp3",              pic: "http://p2.music.126.net/iiH7lL1eL37cvIPfEyRzwg==/5732853627334127.jpg?param=130y130",              lrc: ""            }          });          window.aplayers || (window.aplayers = []);          window.aplayers.push(ap);        </script><h4 id="7-7-磁盘分区类"><a href="#7-7-磁盘分区类" class="headerlink" title="7.7 磁盘分区类"></a>7.7 磁盘分区类</h4><h5 id="7-7-1-fdisk查看分区"><a href="#7-7-1-fdisk查看分区" class="headerlink" title="7.7.1 fdisk查看分区"></a>7.7.1 <code>fdisk</code>查看分区</h5><p>​    基本语法：<code>fdisk -l</code></p><h5 id="7-7-2-查看硬盘"><a href="#7-7-2-查看硬盘" class="headerlink" title="7.7.2 查看硬盘"></a>7.7.2 查看硬盘</h5><p>​    <code>df -h</code></p><h5 id="7-7-3-mount-umount-挂载-卸载"><a href="#7-7-3-mount-umount-挂载-卸载" class="headerlink" title="7.7.3 mount / umount 挂载 /卸载"></a>7.7.3 <code>mount / umount</code> 挂载 /卸载</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">挂载：mount -t  iso9660 -o rw /dev/cdrom /mnt/cdrom/</span><br><span class="line">卸载：umnout /mnt/cdrom</span><br></pre></td></tr></table></figure><h4 id="7-8-搜索查找类"><a href="#7-8-搜索查找类" class="headerlink" title="7.8 搜索查找类"></a>7.8 搜索查找类</h4><h5 id="7-8-1-find-查找文件或目录"><a href="#7-8-1-find-查找文件或目录" class="headerlink" title="7.8.1 find 查找文件或目录"></a>7.8.1 find 查找文件或目录</h5><p>​    基本语法： <code>find [搜索范围] [匹配条件]</code></p><p>​    案例：</p><p>​        (1) 按文件名，根据名称查找 /目录下 的 <code>filename.txt</code>文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /home/atguigu/ -name "*.txt"</span><br></pre></td></tr></table></figure><p>​        (2) 按拥有者，查找 /opt 目录下，用户名为 -user 的文件</p><p>​    </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv -t bb shaolinsi # 移动 shaolinsi 到 bb 目录内</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find tlbu/ -user atguigu</span><br></pre></td></tr></table></figure><p>​    </p><p>​    (3) 按文件大小，在 /home 目录下查找大于200m 的文件 (+n 大于 ，-n 小于， n 等于)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 查找小于10 m 的文件</span><br><span class="line">find tlbu/ -size -10</span><br></pre></td></tr></table></figure><h5 id="7-8-2-grep-在文件内搜索字符串匹配的行并输出"><a href="#7-8-2-grep-在文件内搜索字符串匹配的行并输出" class="headerlink" title="7.8.2 grep 在文件内搜索字符串匹配的行并输出"></a>7.8.2 grep 在文件内搜索字符串匹配的行并输出</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 查找 ll.txt</span><br><span class="line">ls -l |grep ll.txt</span><br></pre></td></tr></table></figure><h5 id="7-8-3-which-文件搜索命令"><a href="#7-8-3-which-文件搜索命令" class="headerlink" title="7.8.3 which 文件搜索命令"></a>7.8.3 <code>which</code> 文件搜索命令</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 查找 ls 可执行文件存放在哪里</span><br><span class="line">which ls</span><br></pre></td></tr></table></figure><h4 id="7-9-进程线程类"><a href="#7-9-进程线程类" class="headerlink" title="7.9 进程线程类"></a>7.9 进程线程类</h4><h5 id="7-9-1-ps查看系统中所有进程"><a href="#7-9-1-ps查看系统中所有进程" class="headerlink" title="7.9.1 ps查看系统中所有进程"></a>7.9.1 <code>ps</code>查看系统中所有进程</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 查看所有进程</span><br><span class="line">ps -aux</span><br><span class="line">grep -aux |grep 3121</span><br></pre></td></tr></table></figure><h5 id="7-9-2-top查看系统健康状态"><a href="#7-9-2-top查看系统健康状态" class="headerlink" title="7.9.2 top查看系统健康状态"></a>7.9.2 <code>top</code>查看系统健康状态</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">top</span><br><span class="line">top -d 1 # 1秒刷新一次</span><br><span class="line">top -l 使top 不显示未激活的进程</span><br><span class="line">按 P 使用CPU 排序</span><br><span class="line">按 M 内存使用排序</span><br><span class="line">N pid排序</span><br></pre></td></tr></table></figure><h5 id="7-9-3-pstree-查看进程树"><a href="#7-9-3-pstree-查看进程树" class="headerlink" title="7.9.3 pstree 查看进程树"></a>7.9.3 <code>pstree</code> 查看进程树</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pstree</span><br><span class="line">pstree -u # 显示进程属于哪一个用户</span><br><span class="line">pstree -p # 显示pid</span><br></pre></td></tr></table></figure><h5 id="7-9-4-kill终止进程"><a href="#7-9-4-kill终止进程" class="headerlink" title="7.9.4 kill终止进程"></a>7.9.4 <code>kill</code>终止进程</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill -9 3863 # 关闭pid 为 3868进程 -9（强迫关闭）</span><br></pre></td></tr></table></figure><h5 id="7-9-5-netstat显示网络统计信息"><a href="#7-9-5-netstat显示网络统计信息" class="headerlink" title="7.9.5 netstat显示网络统计信息"></a>7.9.5 <code>netstat</code>显示网络统计信息</h5><p>​    <code>netstat -anp</code>用来显示整个系统目前的网络情况，例如目前的连接、数据包传递数据、或是路由表内容</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">netstat -anp</span><br><span class="line">netstat -anp |grep 3897 # 显示pid 为3897 的网络情况</span><br></pre></td></tr></table></figure><h4 id="7-10-压缩和解压缩"><a href="#7-10-压缩和解压缩" class="headerlink" title="7.10 压缩和解压缩"></a>7.10 压缩和解压缩</h4><h5 id="7-10-1-gzip-gunzip压缩"><a href="#7-10-1-gzip-gunzip压缩" class="headerlink" title="7.10.1 gzip/gunzip压缩"></a>7.10.1 <code>gzip/gunzip</code>压缩</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gzip + 文件</span><br><span class="line">功能描述：压缩文件，只能将文件压缩为 `*.gz` 文件</span><br><span class="line">1. 只能压缩文件不能压缩目录，只能单个压缩</span><br><span class="line">2. 不保留原来的文件</span><br><span class="line">gunzip + 文件 </span><br><span class="line">功能：解压缩</span><br></pre></td></tr></table></figure><h5 id="7-10-2-zip-unzip压缩"><a href="#7-10-2-zip-unzip压缩" class="headerlink" title="7.10.2 zip/unzip压缩"></a>7.10.2 <code>zip/unzip</code>压缩</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 使用 `zip` 同时压缩多个文件</span><br><span class="line">zip yijinjing ll.txt ss.txt</span><br><span class="line"><span class="meta">#</span> 使用 `unzip` 解压缩</span><br><span class="line">unzip yijinjing.zip</span><br></pre></td></tr></table></figure><h5 id="7-10-3-tar打包"><a href="#7-10-3-tar打包" class="headerlink" title="7.10.3 tar打包"></a>7.10.3 <code>tar</code>打包</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">tar 参数 + XXX.tar.gz + 将要打包的内容</span><br><span class="line">参数：</span><br><span class="line">-c 产生 .tar 打包文件</span><br><span class="line">-v 显示详细信息</span><br><span class="line">-f 指定压缩后的文件名</span><br><span class="line">-z 打包同时压缩</span><br><span class="line">-x 解包 .tar 文件</span><br><span class="line"></span><br><span class="line">压缩：tar -zcvf XXX.tar.gz n1.txt n2.txt</span><br><span class="line">解压：tar -zxvf XXX.tar.gz </span><br><span class="line">    # 通过 `-C` 指定解压目录</span><br><span class="line">    tar -zxvf khbd.tar.gz -C ./wlmiji/</span><br></pre></td></tr></table></figure><h4 id="7-11-后台服务管理类"><a href="#7-11-后台服务管理类" class="headerlink" title="7.11 后台服务管理类"></a>7.11 后台服务管理类</h4><h5 id="7-11-1-service-后台服务管理"><a href="#7-11-1-service-后台服务管理" class="headerlink" title="7.11.1 service 后台服务管理"></a>7.11.1 <code>service</code> 后台服务管理</h5><h5 id="7-11-2-chkconfig设置后台服务的自启配置"><a href="#7-11-2-chkconfig设置后台服务的自启配置" class="headerlink" title="7.11.2 chkconfig设置后台服务的自启配置"></a>7.11.2 <code>chkconfig</code>设置后台服务的自启配置</h5><h4 id="7-12-crond系统定时任务"><a href="#7-12-crond系统定时任务" class="headerlink" title="7.12 crond系统定时任务"></a>7.12 <code>crond</code>系统定时任务</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">crontab [选项]</span><br><span class="line">选项：</span><br><span class="line">-e : 编辑 crontab 定时任务</span><br><span class="line">-l : 查询 crontab 任务</span><br><span class="line">-r : 删除当前用户所有的 crontab 任务</span><br></pre></td></tr></table></figure><p><code>crontab -e</code></p><table><thead><tr><th>项目</th><th>含义</th><th>范围</th></tr></thead><tbody><tr><td>第一个 “*”</td><td>一小时当中的第几分钟</td><td>0-59</td></tr><tr><td>第二个 “*”</td><td>一天当中的第几个小时</td><td>0-23</td></tr><tr><td>第三个 “*”</td><td>一个月当中的第几天</td><td>1-31</td></tr><tr><td>第四个 “*”</td><td>一年当中的第几个月</td><td>1-12</td></tr><tr><td>第无个 “*”</td><td>一周单中的星期几</td><td>0-7（0和7都代表星期日）</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line">进入 crontab 编辑界面，会打开 vim 编辑你的工作。</span><br><span class="line">1 16 1 5 * 执行的任务(echo "hello world"&gt;&gt;/home/atguigu/t.txt)</span><br></pre></td></tr></table></figure><p>特殊字符：</p><table><thead><tr><th>特殊字符</th><th>含义</th></tr></thead><tbody><tr><td>*</td><td>代表任何时间。<br>比如第一个”*”就代表一小时中每分钟都执行一次</td></tr><tr><td>,</td><td>代表不连续的时间<br>比如”0 8,12,16 ***”命令，就代表在每天的8点0分，12点0分，16点0分都执行一次命令</td></tr><tr><td>-</td><td>代表连续的时间范围<br>比如”0 5 <em> </em> 1-6”,代表在周一到周六的凌晨5点0分执行命令</td></tr><tr><td>*/n</td><td>代表每隔多久执行一次<br>比如”<em>/10 </em> <em> </em> *”命令，代表每个10分钟就执行一遍命令</td></tr></tbody></table><p>特定时间执行命令</p><table><thead><tr><th>时间</th><th>含义</th></tr></thead><tbody><tr><td>45 22 <em> </em> * 命令</td><td>在22点45分执行命令</td></tr></tbody></table><h3 id="八、rpm"><a href="#八、rpm" class="headerlink" title="八、rpm"></a>八、<code>rpm</code></h3><p>​    RPM (RedHat Package Manager)，Rethat 软件包管理工具，是LINUX这一系列操作系统里面的打包安装工具，它虽然是RatHat的标志，但理念是通用的</p><h4 id="8-2-1-查询"><a href="#8-2-1-查询" class="headerlink" title="8.2.1 查询"></a>8.2.1 查询</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa # 功能：查询安装的所有软件</span><br><span class="line">rpm -qa |grep fire</span><br></pre></td></tr></table></figure><h4 id="8-2-2-卸载"><a href="#8-2-2-卸载" class="headerlink" title="8.2.2 卸载"></a>8.2.2 卸载</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -e firefox-52.8.0-1.el6.centos.x86_64</span><br></pre></td></tr></table></figure><h4 id="8-2-3-安装"><a href="#8-2-3-安装" class="headerlink" title="8.2.3 安装"></a>8.2.3 安装</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh RPM包全名</span><br><span class="line">-i=install ，安装</span><br><span class="line">-v=verbose , 显示详细信息</span><br><span class="line">-h=hash , 进度条</span><br><span class="line">-nodeps , 不检测依赖进度</span><br></pre></td></tr></table></figure><h3 id="九、shell编程"><a href="#九、shell编程" class="headerlink" title="九、shell编程"></a>九、<code>shell</code>编程</h3><h4 id="9-1-概述"><a href="#9-1-概述" class="headerlink" title="9.1 概述"></a>9.1 概述</h4><p><code>Shell</code>是一个命令行解释器，它为用户提供了一个向<code>Linux</code>内核发送请求以便运行程序的界面系统级程序，用户可以用<code>Shell</code>来启动、挂起、停止甚至是编写一些程序。</p><h4 id="9-2-shell脚本的执行方式"><a href="#9-2-shell脚本的执行方式" class="headerlink" title="9.2 shell脚本的执行方式"></a>9.2 <code>shell</code>脚本的执行方式</h4><h5 id="1）echo输出内容到控制台"><a href="#1）echo输出内容到控制台" class="headerlink" title="1）echo输出内容到控制台"></a>1）<code>echo</code>输出内容到控制台</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> [选项内容] [输出内容]</span><br><span class="line"><span class="built_in">echo</span> -e 转义字符</span><br><span class="line"></span><br><span class="line">控制字符作用</span><br><span class="line">\\   输出 \ 本身</span><br><span class="line">\a   输出警告音</span><br><span class="line">\b   退格键，也就是向左删除键</span><br><span class="line">\c   取消输出行末的换行符。 和 <span class="string">"-n"</span> 选项一致</span><br><span class="line">\e   ESCAPE 键</span><br><span class="line">\f   换页符</span><br><span class="line">\n             换行符</span><br><span class="line">\r   回车键</span><br><span class="line">\t   制表符，也就是 Tab 键</span><br><span class="line">\v   垂直制表符</span><br><span class="line">\0nnn   按照八进制ASCII码表输出字符。其中0是数字零，nnn是三位八进制数</span><br><span class="line">\xhh   按照十六进制ASCII码表输出字符，其中hh是两位十六进制数</span><br></pre></td></tr></table></figure><h5 id="2）脚本格式"><a href="#2）脚本格式" class="headerlink" title="2）脚本格式"></a>2）脚本格式</h5><ul><li>脚本是以 <code>#!/bin/bash</code>开头</li></ul><h5 id="3）第一个shell脚本"><a href="#3）第一个shell脚本" class="headerlink" title="3）第一个shell脚本"></a>3）第一个<code>shell</code>脚本</h5><p><strong>需求</strong>：输出<code>Hello world!</code></p><p><strong>shell 脚本</strong> - <code>helloworld.sh</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"hello world"</span></span><br></pre></td></tr></table></figure><h5 id="4）脚本的常用执行方式"><a href="#4）脚本的常用执行方式" class="headerlink" title="4）脚本的常用执行方式"></a>4）脚本的常用执行方式</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">./helloworld.sh</span><br><span class="line">/opt/shuihu/helloworld.sh</span><br><span class="line">sh ./helloworld.sh</span><br><span class="line">bash ./helloworld.sh</span><br><span class="line">sh /opt/shuihu/helloworld.sh</span><br><span class="line">bash /opt/shuihu/helloworld.sh</span><br></pre></td></tr></table></figure><h4 id="9-3-shell中的变量"><a href="#9-3-shell中的变量" class="headerlink" title="9.3 shell中的变量"></a>9.3 <code>shell</code>中的变量</h4><p><strong>概述：</strong></p><ol><li><code>LinuxShell</code>中变量分为”系统变量”和”用户自定义变量”，可以通过<code>set</code>命令查看系统变量</li><li>系统变量：<code>$HOME $PWD $SHELL $USER</code>等等</li><li>显示当前 <code>shell</code> 中所有的变量：<code>set</code></li></ol><h5 id="9-3-1-定义变量"><a href="#9-3-1-定义变量" class="headerlink" title="9.3.1 定义变量"></a>9.3.1 定义变量</h5><ol><li>基本语法<ul><li><strong>定义变量</strong>: 变量=值</li><li><strong>撤销变量</strong>：unset 变量</li><li><strong>声明静态变量</strong>：readonly 变量</li></ul></li><li>变量定义规则<ul><li><strong>等号两侧不能有空格</strong></li><li>变量名称一般为<strong>大写</strong></li><li>变量名称可以由字母、数字和下划线组成，但是不能以数字开头</li><li><strong>双引号和单引号区别</strong>：双引号仅将空格脱意 ，单引号会将所有特殊字符脱意</li></ul></li><li>案例</li></ol><h5 id="9-3-2-将命令的返回值赋给变量"><a href="#9-3-2-将命令的返回值赋给变量" class="headerlink" title="9.3.2 将命令的返回值赋给变量"></a>9.3.2 将命令的返回值赋给变量</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行 `ls -al` 命令，并将结果返回给变量A,注意为反引号``</span></span><br><span class="line">A=`ls -al`</span><br><span class="line"><span class="comment"># 等价于</span></span><br><span class="line">A=$(ls-al)</span><br></pre></td></tr></table></figure><h5 id="9-3-3-设置环境变量"><a href="#9-3-3-设置环境变量" class="headerlink" title="9.3.3 设置环境变量"></a>9.3.3 设置环境变量</h5><ol><li>基本语法<ul><li><code>export 变量名=变量值</code>    （功能描述：设置环境变量的值，提升为全局变量）</li><li><code>source配置文件</code>       （功能描述：让修改后的配置信息立即生效）</li><li><code>echo $变量名</code>          (功能描述：查询环境变量的值)</li></ul></li></ol><h5 id="9-3-4-位置参数变量"><a href="#9-3-4-位置参数变量" class="headerlink" title="9.3.4 位置参数变量"></a>9.3.4 位置参数变量</h5><p>​    <strong>基本语法：</strong></p><pre><code>1. `$n` : 功能描述：n 为数字, $0 代表**命令本身**，`$1-$9` 代表第一到第九个参数，十个以上的参数，需要用大括号包含，如 `${10}`2. `$*` : 功能描述： 这个变量代表命令行中所有的参数，`$*`把所有的参数看成一个整体3. `$@`: 功能描述： 这个变量也代表命令行中所有的参数，不过 `$@`把每一个参数区别对待4. `$#` : 功能描述： 这个变量代表命令行中所有的参数的个数</code></pre><h5 id="9-3-5-预定义变量"><a href="#9-3-5-预定义变量" class="headerlink" title="9.3.5 预定义变量"></a>9.3.5 预定义变量</h5><p><strong>基本语法</strong>：</p><ol><li><code>$$</code> : 当前进程的进程号 (PID)</li><li><code>$!</code> : 后台运行的最后一个进程的进程号</li><li><code>$?</code> : 最后一次执行的命令的返回状态。如果这个变量的值为 0 ，证明上一个命令正确执行；如果这个变量的值为非0(具体是哪个数，有命令自己来决定)，则证明上一个命名执行不正确了。</li></ol><h4 id="9-4-运算符"><a href="#9-4-运算符" class="headerlink" title="9.4 运算符"></a>9.4 运算符</h4><ol><li><p>基本语法：</p><ul><li>“$((运算式))” 或 “$[运算式]”</li><li>expr m + n      <em>注意：expr运算符之间要有空格</em></li><li>expr m - n      <em>注意：expr 运算符之间要有空格</em></li><li>/<em>,/,%          </em>乘，除，取余*</li></ul></li><li><p>案例</p><p>计算 （2 + 3 ）* 4</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo $[(2+3)*4]</span><br><span class="line">expr `expr 2 + 3` \* 4</span><br></pre></td></tr></table></figure></li></ol><h4 id="9-5-条件判断"><a href="#9-5-条件判断" class="headerlink" title="9.5 条件判断"></a>9.5 条件判断</h4><h5 id="9-5-1-判断语句"><a href="#9-5-1-判断语句" class="headerlink" title="9.5.1 判断语句"></a>9.5.1 判断语句</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ condition ] # 注意：condition 前后要有空格</span><br></pre></td></tr></table></figure><p><strong>案例</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[ atguigu ]返回 true</span><br><span class="line"></span><br><span class="line">[]返回 false</span><br><span class="line"></span><br><span class="line">[ condition ] &amp;&amp; echo OK || echo notok条件满足，执行后面的语句</span><br></pre></td></tr></table></figure><h5 id="9-5-2-常用条件判断"><a href="#9-5-2-常用条件判断" class="headerlink" title="9.5.2 常用条件判断"></a>9.5.2 常用条件判断</h5><ol><li><p><strong>两个整数之间的比较</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">=字符串比较</span><br><span class="line">-lt小于</span><br><span class="line">-le小于等于</span><br><span class="line">-eq等于</span><br><span class="line">-gt大于</span><br><span class="line">-ge大于等于</span><br><span class="line">-ne不等于</span><br></pre></td></tr></table></figure></li></ol><ol start="2"><li><p><strong>按照文件权限进行判断</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-r有读的权限</span><br><span class="line">-w有写的权限</span><br><span class="line">-x有执行的权限</span><br></pre></td></tr></table></figure></li></ol><ol start="3"><li><p><strong>按照文件类型进行判断</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-f文件存在并且是一个常规的文件</span><br><span class="line">-e文件存在</span><br><span class="line">-d文件存在并是一个目录</span><br></pre></td></tr></table></figure></li></ol><ol start="4"><li><p><strong>案例</strong></p><p>| 23是否大于等于22                         | [ 23 -get 22]            |<br>| —————————————- | ———————— |<br>| <code>student.txt</code>是否具有写权限              | [ -w student.txt]        |<br>| <code>/root/install.log</code> 目录中的文件是否存在 | [ -e /root/install.log ] |</p></li></ol><h4 id="9-6-流程控制"><a href="#9-6-流程控制" class="headerlink" title="9.6 流程控制"></a>9.6 流程控制</h4><h5 id="9-6-1-if-判断"><a href="#9-6-1-if-判断" class="headerlink" title="9.6.1 if 判断"></a>9.6.1 if 判断</h5><ol><li><p>基本语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">方式一：</span><br><span class="line"></span><br><span class="line">if[ 条件判断式 ];then</span><br><span class="line">程序</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">方式二：</span><br><span class="line">if[ 条件判断式 ]</span><br><span class="line">then</span><br><span class="line">    程序</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p><strong>注意事项</strong>： 1、[ 条件判断式 ] ，中括号和条件判断式之间必须有空格</p></li><li><p>案例<br>判断输入的数是否等于123，是否等于456</p><p><code>./if.sh 123</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">if [ $1 -eq "123" ]</span><br><span class="line">then</span><br><span class="line">echo "123"</span><br><span class="line"></span><br><span class="line">elif [ $1 -eq "456" ]</span><br><span class="line">then</span><br><span class="line">echo "456"</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>输出结果：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">123</span><br></pre></td></tr></table></figure></li></ol><h5 id="9-6-2-case-语句"><a href="#9-6-2-case-语句" class="headerlink" title="9.6.2 case 语句"></a>9.6.2 case 语句</h5><ol><li><p>基本语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">case $变量名 in</span><br><span class="line">"值1")</span><br><span class="line">如果变量的值等于值1，则执行程序1</span><br><span class="line">;;</span><br><span class="line">"值2"）</span><br><span class="line">如果变量的值等于值2，则执行程序2</span><br><span class="line">;;</span><br><span class="line">...省略其他分支...</span><br><span class="line">*)</span><br><span class="line">如果变量的值都不是以上的值，则执行此程序</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure></li></ol><ol start="2"><li><p>案例</p><p>输入1，输出1；输入2，输出2 ； 输入其他，输出other;</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">"1")</span><br><span class="line">echo 1</span><br><span class="line">;;</span><br><span class="line"></span><br><span class="line">"2")</span><br><span class="line">echo 2</span><br><span class="line">;;</span><br><span class="line"></span><br><span class="line">*)</span><br><span class="line">echo "other"</span><br><span class="line"></span><br><span class="line">;;</span><br><span class="line"></span><br><span class="line">esac</span><br></pre></td></tr></table></figure></li></ol><h5 id="9-6-3-for-循环"><a href="#9-6-3-for-循环" class="headerlink" title="9.6.3 for 循环"></a>9.6.3 for 循环</h5><ol><li><p><strong>基本语法1</strong>：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for 变量 in 值1 值2 值3...</span><br><span class="line">do</span><br><span class="line">程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li></ol><ol start="2"><li><p>案例1<br>打印输入参数<br><code>for1.sh</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">for i in "$*"</span><br><span class="line">do</span><br><span class="line">echo "$i"</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">for j in "$@"</span><br><span class="line">do</span><br><span class="line">echo "$j"</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>输出结果：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ./ for1.sh 1 2 3</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;</span></span><br><span class="line">1 2 3</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure></li></ol><ol start="3"><li><p><strong>基本语法2</strong>：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for((初始值;循环控制条件;变量变化))</span><br><span class="line">do</span><br><span class="line">程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li><li><p>案例2</p><p>从1加到100</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">s=0</span><br><span class="line">for ((i=1;i &lt;= 100; i++))</span><br><span class="line">do</span><br><span class="line">s=$[$s+$i]</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo $s</span><br></pre></td></tr></table></figure></li></ol><h5 id="9-6-4-while-循环"><a href="#9-6-4-while-循环" class="headerlink" title="9.6.4 while 循环"></a>9.6.4 while 循环</h5><ol><li><p>基本语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while [ 条件判断式 ]</span><br><span class="line">do</span><br><span class="line">程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li></ol><ol start="2"><li><p>案例<br>从1加到100</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">s=0</span><br><span class="line">i=1</span><br><span class="line">while [ $i -le 100 ]</span><br><span class="line">do</span><br><span class="line">s=$[$s + $i]</span><br><span class="line">i=$[$i + 1]</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo "$s"</span><br></pre></td></tr></table></figure></li></ol><h4 id="9-7-read读取控制台输入"><a href="#9-7-read读取控制台输入" class="headerlink" title="9.7 read读取控制台输入"></a>9.7 <code>read</code>读取控制台输入</h4><ol><li><p>基本语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">read (选项)(参数)</span><br><span class="line">选项：</span><br><span class="line">-p ：指定读取值时的提示符；</span><br><span class="line">-t : 指定读取值时等待的时间(秒)</span><br><span class="line">参数：</span><br></pre></td></tr></table></figure></li></ol><ol start="2"><li><p>案例<br>读取控制台输入的名称</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-- 将输入的内容赋值给 `NAME`</span><br><span class="line">read -p "input your name " NAME</span><br><span class="line">echo $NAME</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 将 5 秒 内输入的内容赋值给 `NAME`</span></span><br><span class="line">read -t 5 -p "input your name" NAME</span><br></pre></td></tr></table></figure></li></ol><h4 id="9-8-函数"><a href="#9-8-函数" class="headerlink" title="9.8 函数"></a>9.8 函数</h4><h5 id="9-8-1-系统函数"><a href="#9-8-1-系统函数" class="headerlink" title="9.8.1 系统函数"></a>9.8.1 系统函数</h5><ol><li><p><code>basename</code>基本语法</p></li><li><p>案例</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">basename /opt/shuihu/for1.sh </span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; for1.sh</span></span><br></pre></td></tr></table></figure></li></ol><ol start="3"><li><p><code>dirname</code>基本语法</p></li><li><p>案例</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">basename /opt/shuihu/for1.sh </span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; /opt/shuihu</span></span><br></pre></td></tr></table></figure></li></ol><h5 id="9-8-2-自定义函数"><a href="#9-8-2-自定义函数" class="headerlink" title="9.8.2 自定义函数"></a>9.8.2 自定义函数</h5><ol><li><p>基本语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[ function ] funname [()]</span><br><span class="line">&#123;</span><br><span class="line">    Action;</span><br><span class="line">    [return int;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">funname</span><br></pre></td></tr></table></figure><p><strong>注意事项</strong></p><ul><li>必须在调用函数地方之前，先声明函数，shell 脚本是逐行运行。不会像其它语言一样先编译</li><li>函数返回值，只能通过<code>$?</code>系统变量获得，可以显示加：return 返回，如果不加，将以最后一条命令运行结果，作为返回值。return 后跟数值 n (0-255)</li></ul></li><li><p>案例</p><p>计算输入参数的和</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">funciton sum()</span><br><span class="line">&#123;</span><br><span class="line">    s=0</span><br><span class="line">    s=$[$1 + $2]</span><br><span class="line">    echo "$s"</span><br><span class="line">&#125;</span><br><span class="line">read -p "Please input the number1:" n1;</span><br><span class="line">read -p "Please input the number2:" n2;</span><br><span class="line">sum $n1 $n2;</span><br></pre></td></tr></table></figure></li></ol><h3 id="十、yum-仓库配置"><a href="#十、yum-仓库配置" class="headerlink" title="十、yum 仓库配置"></a>十、<code>yum</code> 仓库配置</h3><h4 id="10-1概述"><a href="#10-1概述" class="headerlink" title="10.1概述"></a>10.1概述</h4><p><code>YUM</code> （全称 为 <code>Yellow dog Updater,Modified</code>）是一个在 <code>Fedora</code>和 <code>RedHat</code>以及<code>CentOS</code>中的<code>Shell</code>前端软件包管理器。</p><p>基于<code>RPM</code>包管理，能够从指定的服务器自动下载<code>RPM</code>包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包，无需繁琐地一次次下载、安装。</p><h4 id="10-2-yum-的常用命令"><a href="#10-2-yum-的常用命令" class="headerlink" title="10.2 yum 的常用命令"></a>10.2 yum 的常用命令</h4><h5 id="1-基本语法"><a href="#1-基本语法" class="headerlink" title="1. 基本语法"></a>1. 基本语法</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum install -y httpd(功能描述：安装 httpd 并确认安装)</span><br><span class="line">yum list(功能描述：列出所有可用的 package 和 package 组)</span><br><span class="line">yum clean all(功能描述：清除所有缓冲数据)</span><br><span class="line">yum deplist httpd(功能描述：列出一个包所有依赖的包)</span><br><span class="line">yum remove httpd(功能描述：删除 httpd)</span><br></pre></td></tr></table></figure><h5 id="2-案例"><a href="#2-案例" class="headerlink" title="2. 案例"></a>2. 案例</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y tree</span><br></pre></td></tr></table></figure><h4 id="10-3-关联网络-yum-源"><a href="#10-3-关联网络-yum-源" class="headerlink" title="10.3 关联网络 yum 源"></a>10.3 关联网络 yum 源</h4><p><strong>在线安装</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 首先下载网易 yum 配置文件，将该文件 移动到 /etc/yum.repos.d/ 文件夹内</span><br><span class="line">mv CentOS6-Base-163.repo /etc/yum.repos.d/</span><br><span class="line">cd /etc/yum.repos.d/</span><br><span class="line"># 将 CentOS-Base.repo 备份 为 CentOS-Base.repo.bak</span><br><span class="line">mv CentOS-Base.repo CentOS-Base.repo.bak</span><br><span class="line"># 将下载的网易 yum 配置文件 CentOS6-Base-163.repo 改名为 CentOS-Base.repo</span><br><span class="line">mv CentOS6-Base-163.repo CentOS-Base.repo</span><br><span class="line">cat CentOS-Base.repo</span><br><span class="line"># 清除缓存</span><br><span class="line">yum clean all</span><br><span class="line"># 安装</span><br><span class="line">yum makecache</span><br></pre></td></tr></table></figure><p><strong>制作本地yum源</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>ubuntu 问题</title>
    <link href="http://yoursite.com/2019/01/17/ubuntu%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2019/01/17/ubuntu问题/</id>
    <published>2019-01-17T13:59:07.000Z</published>
    <updated>2019-05-04T07:48:09.710Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h5 id="ubuntu-依赖问题"><a href="#ubuntu-依赖问题" class="headerlink" title="ubuntu 依赖问题"></a>ubuntu 依赖问题</h5><pre><code>sudo apt-get update # 更新sudo apt-get -f install # 解决依赖问题sudo dpkg -i xxx.deb # 重新安装</code></pre><h5 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h5><pre><code>先找到软件的名称：whereis,which,find,grep 都可以可以直接使用 dpkg 命令进行卸载，这叫做谁污染谁治理；dpkg -l |grep xxx# xxx 就是安装的软件名找到之后，使用下面的方法进行卸载sudo dpkg --purge xxxxrm -rf ~/.local/share/xxxx这样的话就彻底卸载了</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>linux基础</title>
    <link href="http://yoursite.com/2019/01/09/linux%E5%9F%BA%E7%A1%80/"/>
    <id>http://yoursite.com/2019/01/09/linux基础/</id>
    <published>2019-01-09T12:19:45.000Z</published>
    <updated>2019-03-19T12:00:28.963Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ul><li>帮助命令： man 获得帮助信息 用法：man [命令或配置文件]</li><li>help 获得shell内置命令的帮助信息</li></ul><h5 id="基础命令："><a href="#基础命令：" class="headerlink" title="基础命令："></a>基础命令：</h5><ol><li>pwd 查看绝对路径</li><li>mkidr 创建一个新的目录</li><li>rmdir 删除一个空的目录</li><li>touch 创建空文件</li><li><p>cd 切换目录 用法：（cd 绝对路径/相对路径）</p><pre><code>cd 绝对路径cd 相对路径cd ~ 或 cd 回到自己的家目录cd - 回到上一次所在目录cd.. 回到当前目录的上一级目录</code></pre></li></ol><ol start="6"><li><p>cp 复制文件或目录</p><pre><code>cp source dest    复制source文件到destcp -r sourceFloder targetFolder        递归复制整个文件到</code></pre></li><li>ls 列出目录内容 （-a/-l）</li><li>ll</li><li><p>rm 移除文件或目录</p><pre><code>rm 删除文件rm -rf 递归删除，可以删除包含文件的文件夹</code></pre></li><li><p>mv 移动文件与目录或重命名</p><pre><code>mv oldNameFile newNameFile    重命名mv /temp/movefile/targetFolder 移动文件</code></pre></li><li><p>cat 查看文件内容</p><pre><code>查看文件内容，从第一行开始显示。cat -n 显示行号，连同空白行也会有cat -A 累出一些特殊字符，而不是空白而已cat -b 列出行号，但针对非空白行做行号显示，空白行不标行号!cat -E 将结尾的断行字符$显示出来；cat -T 将【Tab】键以 ^|显示出来；cat -v 列出一些看不出来的特殊字符；</code></pre></li><li><p>tac 查看文件内容</p><pre><code>查看文件内容，从最后一行开始显示，可以看出tac 是 cat 的倒着写的；</code></pre></li><li><p>more 查看文件内容</p><pre><code>more 要查看的文件空白键[space]    代表向下翻一页Enter    代表向下翻一行q        代表离开more ，不在显示该文件内容;Ctrl + F    向下滚动一屏Ctrl + B    返回上一屏=输出当前行的行号:f    输出文件名和当前行的行号;</code></pre></li><li><p>less 查看文件内容</p><pre><code>less的作用与more十分相似，都可以用来浏览文字档案的内容，不同的是less允许使用[pageup][pagedown]往回滚动；空白键    向下翻动一页[pagedown]    向下翻动一页[pageup]    向上翻动一页/字符串        向下搜寻[字符串]的功能;n:向下查找；N:向上查找?字符串        向上搜寻[字符串]的功能;n:向上查找;    N:向下查找q        离开less</code></pre></li><li><p>head 查看文件内容</p><pre><code>查看文件内容，只看头几行</code></pre></li><li><p>tail 查看文件内容</p><pre><code>查看文件内容，只看尾巴几行tail -n 10 文件    tail -f 文件        实时追踪该文档的所有更新</code></pre></li><li><p>重定向命令</p><pre><code>ls -l &gt;文件        列表的内容写入文件a.txt中(覆盖写)ls -al &gt;&gt;文件    列表的内容追加到文件aa.txt的末尾</code></pre></li><li><p>echo        </p><pre><code>echo 要显示的内容&gt;&gt;存储内容的文件    将要显示的内容，存储到文件中echo 变量    显示变量的值</code></pre></li><li><p>ln软链接</p><pre><code>ln -s[原文件][目标问价]    给原文件创建一个软链接，软链接存放在目标文件目录</code></pre></li><li>history 查看所敲命令历史</li></ol><hr><h3 id="vi编辑器的使用"><a href="#vi编辑器的使用" class="headerlink" title="vi编辑器的使用"></a>vi编辑器的使用</h3><h5 id="一般模式"><a href="#一般模式" class="headerlink" title="一般模式"></a>一般模式</h5><pre><code>yy    复制光标当前一行y数字y    复制一段(从第几行到第几行)p    箭头移动到目的行进行粘贴u    撤销上一步dd    删除光标当前行d数字d    删除光标(含)后多少行x    删除一个字母，相当于delX    删除一个字母，相当于Backspaceyw    复制一个词dw    删除一个词shift + ^    移动到行头shift + $    移动到行尾 1 + shift + g    移动到页头，数字shift + g    移动到页尾数字N + shift + g    移动到目标行</code></pre><h5 id="编辑模式"><a href="#编辑模式" class="headerlink" title="编辑模式"></a>编辑模式</h5><pre><code>进入编辑模式    1.    i    当前光标前    2.    a    当前光标后    3.    o    当前光标下一行退出编辑模式    ESC</code></pre><h5 id="指令模式"><a href="#指令模式" class="headerlink" title="指令模式"></a>指令模式</h5><pre><code>    w    保存        q    退出    !    感叹号强制执行/    查找，/被查找词，n是查找下一个，shift + n是往上查找?    查找，？被查找词，n是查找上一个，shift + n是查找下一个</code></pre><h5 id="时间日期类"><a href="#时间日期类" class="headerlink" title="时间日期类"></a>时间日期类</h5><ol><li><p>date 显示当前时间</p><pre><code>datedate +%Y-%m-%ddate &quot;+%Y-%m-%d %H:%M:%S&quot;</code></pre></li><li><p>date 显示非当前时间</p><pre><code>date -d &apos;next day&apos;date -d &quot;yesterday&quot;date -d &quot;next week&quot;date -d &quot;next monday&quot;date -d &quot;1 days ago&quot; -- 显示前一天日期date -d yesterday +%Y%m%d 显示前一天日期date -d next day +%Y%m-%d 显示明天日期</code></pre></li><li><p>date 设置系统时间</p><pre><code>date -s &quot;2019-01-14 22:07:25&quot;</code></pre></li><li><p>cal 查看日历</p><pre><code>calcal 2019 2019年日历cal -3 最近3个月</code></pre></li></ol><hr><h5 id="用户组管理命令"><a href="#用户组管理命令" class="headerlink" title="用户组管理命令"></a>用户组管理命令</h5><ol><li><p>groupadd 新增组</p><pre><code>groupadd 组名</code></pre></li><li><p>groupdel 删除组</p><pre><code>groupdel 组名</code></pre></li><li><p>groupmod 修改组</p><pre><code>groupmod -n 新组名 老祖名</code></pre></li><li><p>cat/etc/group 查看创建了哪些分组</p></li><li><p>usermod 修改用户组</p><pre><code>usermod -g 用户名 用户组        </code></pre></li></ol><hr><h5 id="文件权限"><a href="#文件权限" class="headerlink" title="文件权限"></a>文件权限</h5><blockquote><p>-rw-r–r–. 1 root root    0 1月  16 21:05 duanyu.txt</p><p>drwxr-xr-x. 2 root root 4096 1月  16 21:05 gaibang</p></blockquote><pre><code>第一位： - 表示文件        d 文件夹第2-4位：        用户主的权限        r 读        w 写        x 执行        - 表示没权限第5-7位：        用户组的权限        r 读        w 写        x 执行        - 表示没权限第8-10位：        其他权限        r 读        w 写        x 执行        - 表示没权限第11位：        链接数(未知)第12位：        文件拥有者第13位：        用户组第14位：        创建时间第15位：        文件名称</code></pre><h5 id="chomod-改变权限"><a href="#chomod-改变权限" class="headerlink" title="chomod 改变权限"></a>chomod 改变权限</h5><pre><code>chmod u+x demo.txt    //用户chmod g-w demo.txt    //用户组chmod o+w demo.txt    //其它chmod a+w demo.txt    //所有1：具有权限 0：没有权限r w x1 1 1 = 70 0 0 = 01 0 0 = 40 1 0 = 20 0 1 = 1chmod 777 demo.txt (用户、用户组、其它都具有可读可写可执行的权限)</code></pre><h5 id="chown-改变所有者"><a href="#chown-改变所有者" class="headerlink" title="chown 改变所有者"></a>chown 改变所有者</h5><pre><code>chown [最终用户][文件或目录]chown root jiumozhi.txt</code></pre><h5 id="chgrp-改变所属组"><a href="#chgrp-改变所属组" class="headerlink" title="chgrp 改变所属组"></a>chgrp 改变所属组</h5><pre><code>chgrp root yijinjing.txt同时改变拥有者 和 拥有者 的组：chown atguigu:atguigu yijinjing.txt</code></pre><h3 id="磁盘分区类"><a href="#磁盘分区类" class="headerlink" title="磁盘分区类"></a>磁盘分区类</h3><h5 id="fdisk-查看分区"><a href="#fdisk-查看分区" class="headerlink" title="fdisk 查看分区"></a>fdisk 查看分区</h5><pre><code>fdisk -l   功能：查看磁盘分区详情(只有root用户)</code></pre><h5 id="df-查看硬盘"><a href="#df-查看硬盘" class="headerlink" title="df 查看硬盘"></a>df 查看硬盘</h5><pre><code>df -h</code></pre><h5 id="mon"><a href="#mon" class="headerlink" title="mon"></a>mon</h5><hr>        <div id="aplayer-yOdNwbLZ" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">            <pre class="aplayer-lrc-content"></pre>        </div>        <script>          var ap = new APlayer({            element: document.getElementById("aplayer-yOdNwbLZ"),            narrow: false,            autoplay: true,            showlrc: false,            music: {              title: "绝对是个梦",              author: "汤宝如",              url: "https://m10.music.126.net/20190117220544/24570c8d9a84cd0c3a470518fdc03b5b/ymusic/d52e/a4ad/4c07/8214ad8b055099de80a876fd07c82acc.mp3",              pic: "http://p1.music.126.net/ZltFcvUm0B7CYjAYUUSVHw==/61572651167679.jpg?param=130y130",              lrc: ""            }          });          window.aplayers || (window.aplayers = []);          window.aplayers.push(ap);        </script><hr><h5 id="磁盘分区"><a href="#磁盘分区" class="headerlink" title="磁盘分区"></a>磁盘分区</h5><pre><code>fdisk 查看分区    fdisk -l 查看磁盘分区详情    注意：root用户df    查看硬盘    df -hmount/umount 挂载/卸载</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
  </entry>
  
</feed>
